{% extends "chrome.html" %}

{% block content %}
<style>
    .list-group-item:hover {
        cursor: pointer; /* Change cursor to indicate interactivity */
    }
    .highlight {
        background-color: #f8f9fa; /* Light gray background on hover */
    }
</style>
<div class="container mt-5">
    <h1>Edit Class</h1>
    <form method="post" action="{{ url_for('admin.course_edit', course_id=course.id) }}">
        <div class="mb-3">
            <label for="name" class="form-label">Name</label>
            <input type="text" class="form-control" id="name" name="name" value="{{ course.name }}">
        </div>
        <div class="row">
            <div class="col-md-6">
                <label class="form-label">Teacher(s):</label>
                <ul class="list-group">
                    {% for teacher in teachers %}
                    <li class="list-group-item staff-row" data-staff-id="{{ teacher.id }}">
                        {{ teacher.name }}
                    </li>
                    {% else %}
                    <li class="list-group-item">None assigned</li>
                    {% endfor %}
                </ul>
            </div>
            <div class="col-md-6">
                <label class="form-label">Assistant(s):</label>
                <ul class="list-group">
                    {% for assistant in assistants %}
                    <li class="list-group-item staff-row" data-staff-id="{{ assistant.id }}">
                        {{ assistant.name }}
                    </li>
                    {% else %}
                    <li class="list-group-item">None assigned</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
        <div class="mb-3">
            <label for="instructions" class="form-label">Teacher Instructions:</label>
            <textarea class="form-control" id="instructions" name="instructions" rows="4">{{ course.instructions }}</textarea>
        </div>
        <button type="submit" class="btn btn-primary">Save</button>
    </form>
</div>

<script>
  $(document).ready(function () {
    $(".staff-row").on("click", function () {
      const staffId = $(this).data('staff-id');
      if (staffId) {
        window.location.href = "{{ url_for('admin.staff_edit', staff_id=0) }}" + staffId;
      }
    });

    $(".staff-row").on("mouseover", function () {
      $(this).addClass("highlight");
    });

    $(".staff-row").on("mouseout", function () {
      $(this).removeClass("highlight");
    });
  });
</script>

{% endblock %}
